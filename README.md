[![PyPI version](https://badge.fury.io/py/vMFD.svg)](https://badge.fury.io/py/vMFD)

![](moral_foundation.png)

*Image generated by DALLÂ·E 3*

# Introduction

`vMFD` is an easy-to-use Python package designed for computationally assessing latent moral language in text, suitable for both short formats like social media posts and longer texts such as news articles. It extends eMFD through word embedding and optimization modeling and yields superior performance. Moreover, vMFD offers three measurement metrics: *Strength*, *Valence*, and *Ambivalence*. Notably, the *Strength* metric is conceptually interchangeable with the eMFD probability.

| Measurement metric name | Note |
|---------------|------|
| Strength    | This score ranges from 0 to 1, with larger values indicating a stronger foundation-specific moral appeal in the document regardless of valence.|
| Valence    | This score ranges from -1 to 1, This metric evaluates whether a document predominantly employs one side of a target moral appeal, either virtue or vice. A higher Valence score indicates the use of more virtue-dominated moral appeal, and a negative Valence score indicates vice-dominated moral expressions.|
| Ambivalence   | This score ranges from 0 to 1. This metric captures the variability in word-level moral appeals in a document. A higher ambivalence score indicates a stronger co-presence of both virtue- and vice-related expressions.|

If you find vMFD helpful, please kindly consider to give it a star (top right corner) and cite the following article, which outlines the fundamental model design of vMFD:


Duan, Z., Shao, A., Hu, Y., Lee, H., Liao, X., Suh, Y., Kim, J., Yang, K.C., Chen, K., & Yang, S. (2023). Constructing Vec-tionaries to Extract Latent Message Features from Texts: A Case Study of Moral Appeals. *arXiv*, https://doi.org/10.48550/arXiv.2312.05990

# Quick start

## Install

After cloning this repo to your computer, go to the directory where `setup.py` resides and use the following command to install the package:

```bash
pip install vMFD
```

## Download data

The package relies on a pre-calculated data frame that needs to be downloaded.
You can use the following command in a Python console or notebook:

```py
import vMFD
vMFD.download_data("word_moral_appeals_googlenews")
```

You can replace `word_moral_appeals_googlenews` with other categories. Currently, the following categories are supported:

| Category name | Note |
|---------------|------|
| word_moral_appeals_googlenews    | Based on pre-trained embedding by Google. The embedding contains 300-dimensional vectors for 3 million words and phrases. See https://code.google.com/archive/p/word2vec/ for details. |

## Calculate moral intuitions

Once the data is downloaded, you can calculate the moral intuitions of any text.

```py
import vMFD

vo = vMFD.vMFD()

# Only calculate the strength score
vo.calculate_strength("Former President Donald Trump is on trial in New York in a $250 million civil lawsuit that could alter the personal fortune and real estate empire that helped propel Trump to the White House.")

# Only calculate the valence score
vo.calculate_valence("Fairy tales do not tell children the dragons exist. Children already know that dragons exist. Fairy tales tell children the dragons can be killed.")

# Only calculate the ambivalence score
vo.calculate_ambivalence("A man goes to the supermarket once a week and buys a chicken. But before cooking the chicken, he has sexual intercourse with it. Then he cooks it and eats it.")

# Calculate all metrics
vo.calculate_metrics("A man goes to the supermarket once a week and buys a chicken. But before cooking the chicken, he has sexual intercourse with it. Then he cooks it and eats it.")
```

# Application
The vMFD has found application in various contexts, with publications organized chronologically as follows:

Chen, K., Duan, Z., & Kim, S.(2024) Uncovering gender stereotypes in controversial science discourse: Evidence from computational text and visual analyses across digital platforms. *Journal of Computer-Mediated Communication*





